"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.post_token = post_token;
const utils_1 = require("./utils.js");
const exceptions_1 = require("../exceptions.js");
function getRequestConfig(args) {
    const headers = (0, utils_1.buildHeaders)();
    return {
        method: 'POST',
        url: '/token',
        auth: {
            username: args.user,
            password: args.password,
        },
        headers: headers,
    };
}
function buildResponse(response) {
    if (response.status === 200) {
        return (0, utils_1.buildXHeaders)(response, response.data);
    }
    else if (response.status === 401) {
        console.error(response.data);
        throw new exceptions_1.AuthenticationError(response);
    }
    else {
        console.error(response.data);
        throw new exceptions_1.ResponseError(response);
    }
}
async function post_token(client, args) {
    const config = getRequestConfig(args);
    const response = await client.request(config);
    return buildResponse(response);
}
//# sourceMappingURL=post_token.js.map